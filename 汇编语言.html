<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>&#27719;&#32534;&#35821;&#35328; - &#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="8684305">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">BinaryLearning</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Binary-Learning.html" class="ht-space-link">
                    <h2>&#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</h2>
                </a>
                <p><br>ᴀᴜᴛʜᴏʀ: ᴋᴇʏ<br><br>不积跬步，无以至千里；<br>不积小流，无以成江海。</p>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=8684311"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Binary-Learning.html">&#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</a></li>
                                                                                     <li><a href="%E5%88%9D%E7%BA%A7%E7%AF%87.html">&#21021;&#32423;&#31687;</a></li>
                                                            </ul>
</div>            <h1 id="src-8684311"> <span>&#27719;&#32534;&#35821;&#35328;</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeivvueoi-amguimgQ">
        <h1 class="heading "><span>&#35838;&#31243;&#27010;&#35201;</span></h1>
<p   
>人与人沟通需要使用到语言，人与计算机沟通也需要一种语言进行，你要跟计算机进行沟通，必须要使用计算机可以识别的语言，这种语言我们称之为机器语言，也就是0和1，二进制。</p>
<p   
>但对于人来说机器语言（二进制）比较难懂，所以前人就在这个基础上衍生出了<strong class=" ">「汇编语言」</strong>，相比于机器语言，汇编语言更加通俗易懂一些，但汇编语言终究不是机器语言，想要计算机读懂汇编语言，就需要<strong class=" ">「编译器」</strong>来将汇编语言转为机器语言。</p>
<p   
>时代是在进步的，技术也是。伟大的前辈在基于<strong class=" ">「汇编语言」</strong>的基础上，又发明了一类语言，我们称之为<strong class=" ">「高级语言」</strong>，例如C语言，其特点就是更加贴近人类的思维、表达方式，但与<strong class=" ">「汇编语言」</strong>一样的是：<strong class=" ">「高级语言」也需要编译器将其转为计算机能读懂的机器语言</strong>。所以综上所述，不是语言变得强大了，而是编译器变得越来越强大。</p>
<p   
>学习<strong class=" ">「汇编语言」</strong>只是为了更好的去理解<strong class=" ">「高级语言」</strong>在计算机底层做了什么事情，更好的去理解计算机底层内容与<strong class=" ">「高级语言」</strong>的特性。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALei_m-WItg">
        <h1 class="heading "><span>&#36827;&#21046;</span></h1>
<p   
>前面，我们有提到计算机只可以读懂机器语言，那机器语言本身就是二进制，所以为了更好的了解、学习计算机，我们要深刻的去理解什么是进制。</p>
<p   
>如果你总是以十进制为基础去考虑其他进制，包括在进制运算时，也是先考虑转为十进制再运算，这说明你不理解进制的本质，想要真正的理解进制，就要忘掉我们生活中常用的十进制，也要忘掉进制间的转换。</p>
<p   
><strong class=" ">进制的定义</strong>：N进制，由N个符号组成，逢N进1。那么问题来了，十进制是由十个符号组成，就一定是0、1、2、3、4、5、6、7、8、9么？其实并不是，我们既然说了是由符号组成，那么十进制也可以是由A、Y、B、3、4、5、D、9、0、X组成，由什么符号，取决于定义的那个人，我定义的十进制前20个表格是这样的：</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col  width="38.0"/>
                                    <col  width="36.0"/>
                                    <col  width="39.0"/>
                                    <col  width="38.0"/>
                                    <col  width="38.0"/>
                                    <col  width="39.0"/>
                                    <col  width="40.0"/>
                                    <col  width="39.0"/>
                                    <col  width="38.0"/>
                                    <col  width="39.0"/>
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>A</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>B</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>D</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>9</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>X</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>YA</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y1</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>YB</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>YD</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y9</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Y0</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>YX</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
><strong class=" ">提问</strong>：1+1=3成立吗？</p>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALei_m-WItui_kOeulw">
        <h2 class="heading "><span>&#36827;&#21046;&#36816;&#31639;</span></h2>
<p   
>基本了解进制后，我们需要了解进制间是如何运算的，八进制的10+4=？10-4=？10*4=？10/4=？首先，我们需要知道八进制的八个符号分别是什么，分别是：0、1、2、3、4、5、6、7。</p>
<p   
>那么如何计算呢？<strong class=" ">1. 写出八进制的前50 2. 借助算术表</strong></p>
<p   
>八进制的前50表：</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col  width="39.0"/>
                                    <col  width="36.0"/>
                                    <col  width="38.0"/>
                                    <col  width="39.0"/>
                                    <col  width="39.0"/>
                                    <col  width="38.0"/>
                                    <col  width="39.0"/>
                                    <col  width="38.0"/>
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>7</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>10</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>11</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>12</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>13</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>14</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>15</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>16</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>17</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>20</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>21</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>22</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>23</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>24</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>25</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>26</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>27</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>30</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>31</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>32</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>33</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>34</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>35</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>36</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>37</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>40</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>41</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>42</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>43</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>44</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>45</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>46</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>47</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>50</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>51</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>52</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>53</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>54</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>55</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>56</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>57</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>60</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>61</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>加法的本质实际上就是查表，10+4，就是从10这个数字开始依次往后查4位，那么其结果就是14。那么10-4就是依次向前查4位，10*4就等于10+10+10+10，那么是否等于从10这个数字开始依次往后查3个10位呢？其实并不是，因为这里是八进制，我们要严格按照八进制的表示来，这里的10（一零）实际上表示8个，也就是从10这个数字开始依次往后查3个8位，10*4的结果也就是40。</p>
<p   
>借助写表格的方式去查表计算，这并不高效，那么回想一下我们从学习数学开始是怎么学习计算的呢？相信你已经回忆起来了，我们是借助加减乘除这四张算术表去计算的，那么在这里我们可以尝试写一下八进制的加法算术表：</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+1 = 2</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+2 = 3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+2 = 4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+3 = 4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+3 = 5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3+3 = 6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+4 = 5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+4 = 6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3+4 = 7</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4+4 = 10</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+5 = 6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+5 = 7</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3+5 = 10</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4+5 = 11</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5+5 = 12</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+6 = 7</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+6 = 10</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3+6 = 11</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4+6 = 12</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5+6 = 13</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>6+6 = 14</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1+7 = 10</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2+7 = 11</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3+7 = 12</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4+7 = 13</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5+7 = 14</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>6+7 = 15</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>7+7 = 16</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>这样再去计算八进制的算术题，就简单多了，其他进制运算以此类推。</p>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeS6jOi_m-WItueugOWGmeW9ouW8jw">
        <h2 class="heading "><span>&#20108;&#36827;&#21046;&#31616;&#20889;&#24418;&#24335;</span></h2>
<p   
>在之前的课程概要中，我们说了计算机只能读懂机器语言（二进制），相信很多人就开始疑惑了，为什么计算机只能读懂二进制？原因是因为计算机是需要电的，而电路设计只有两种状态：1（真&middot;通电）0（假&middot;未通电），所以计算机中存储的任何文件、接收的任何指令都是由0和1组成的。</p>
<p   
>在这里，我们可以借助UltraEdit软件打开一个EXE文件：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-25_22-24-48.png" alt="images/download/attachments/8684311/image2021-1-25_22-24-48.png"   />
    </p>
<p   
>打开一看，为什么这里没有显示二进制0和1呢？是因为二进制使用、阅读都比较麻烦，所以如上图所示，展示出来的是十六进制，这里我们也可以称之为<strong class=" ">二进制的简写方式</strong>。</p>
<p   
>在计算机中二进制和十六进制的对应关系如下：</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="9.11111%"/>
                                    <col  width="6.22222%"/>
                                    <col  width="5.92778%"/>
                                    <col  width="5.92778%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.92778%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.44444%"/>
                                    <col  width="5.92778%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.44444%"/>
                                    <col  width="5.67037%"/>
                                    <col  width="5.44444%"/>
                                    <col  width="5.44444%"/>
                                    <col  width="5.15556%"/>
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>二进制</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0000</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0001</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0010</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0011</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0100</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0101</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0110</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0111</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1000</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1001</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1010</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1011</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1100</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1101</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1110</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1111</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>十六进制</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>2</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>3</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>4</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>5</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>6</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>7</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>8</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>9</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>A</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>B</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>C</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>D</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>E</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>F</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>这个对应关系表需要熟练掌握，做到看见二进制可以直接转为十六进制，反之亦然。</p>
    </div>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeaVsOaNruWuveW6pg">
        <h1 class="heading "><span>&#25968;&#25454;&#23485;&#24230;</span></h1>
<p   
>我们熟知的数字，也就是数学上的数字，理论来说只要你能写、纸张足够多，那么你是可以写任意大小数字的；但在计算机中，因为受到硬件的制约，数据是有长度限制的，我们一般称之为<strong class=" ">「数据宽度」</strong>，<strong class=" ">超出最多宽度的数据会被丢弃掉</strong>。</p>
<p   
>数据宽度也有自己的单位：</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="18.2105%"/>
                                    <col  width="81.7895%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>名称</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>大小</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>位（BIT）</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>█（1位）</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>字节（Byte）</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>█|█|█|█|█|█|█|█（8位）</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>字（Word）</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█（16位、2个字节）</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>双字（Doubleword）</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█|█（32位、2个字、4个字节）</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>当我们存储数据的时候，需要知道自己存储的数据的数据宽度是什么，假设你要存储一个1，要存入字节中，那么以二进制的表示即为：0000 0001</p>
<p   
>在之前我们也说到二进制的简写形式就是十六进制，那么0000 0001转为十六进制即为0x01（<strong class=" ">0x开头表示这是一个十六进制，每4个0和1转为一个十六进制</strong>），那么<strong class=" ">字节（Byte）</strong>的存储范围使用十六进制表示则为：<strong class=" ">0 - 0xFF</strong>，以此类推，<strong class=" ">字（Word）</strong>的存储范围：<strong class=" ">0 - 0xFFFF</strong>，<strong class=" ">双字（Doubleword）</strong>的存储范围：<strong class=" ">0 - 0xFFFFFFFF</strong>。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeaXoOespuWPt-aVsOOAgeacieespuWPt-aVsA">
        <h1 class="heading "><span>&#26080;&#31526;&#21495;&#25968;&#12289;&#26377;&#31526;&#21495;&#25968;</span></h1>
<p   
>无符号数和有符号数，你不需要去弄清楚这两个名词的意思，只需要了解其不同点与相同点。</p>
<p   
>我们来举例说明二进制：0100 1000，它为无符号数编码规则是如何的？为有符号数呢？</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>无符号数</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>有符号数</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0x48、72</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0x48、72</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>直接转为十六进制与十进制，有无符号数都是一样的，但如果是1000 1000，其有无符号数的结果截然不同。</p>
<p   
>需要了解其不同之处，我们还要去了解原码、反码、补码的相关知识。</p>
<p   
>在这一节我们可以暂时得出结论：<strong class=" ">无符号数存储在计算机内就是其本身的值</strong>。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWOn-eggeOAgeWPjeeggeOAgeihpeeggQ">
        <h1 class="heading "><span>&#21407;&#30721;&#12289;&#21453;&#30721;&#12289;&#34917;&#30721;</span></h1>
<p   
>上一章我们学习了无符号数和有符号数，但实际上我们只了解到<strong class=" ">无符号数</strong>存储的编码规则，对有符号数不了解，这一章来聊一下原码、反码、补码。</p>
<p   
><strong class=" ">原码</strong>：最高位为符号位，其余各位为数值本身的绝对值</p>
<p   
><strong class=" ">反码</strong>：<strong class=" ">正数</strong>反码与原码相同，<strong class=" ">负数</strong>符号位为1，其余位对原码取反</p>
<p   
><strong class=" ">补码</strong>：<strong class=" ">正数</strong>补码与原码相同，<strong class=" ">负数</strong>符号位为1，其余位对原码取反加1</p>
<p   
>举例说明，我们分别以<strong class=" ">字节（Byte）</strong>的形式将1、6、-1这三个<strong class=" ">有符号数</strong>存入计算机中，其二进制表示为？</p>
<p   
>1是一个<strong class=" ">正数</strong>，所以二进制<strong class=" ">原码、反码、补码都为</strong>：0000 0001；同理数字6也是如此。</p>
<p   
>-1是一个负数，我们知道有符号数最高位为符号位（最高位就是左边第一个数字），<strong class=" ">负数</strong>符号位为1，所以其二进制的原码为：1000 0001，但这是最终存入计算机中的二进制吗？并不是，在计算机中有符号数负数存储是以<strong class=" ">补码</strong>形式存储的：</p>
<p   
>通过原码：<strong class=" ">1000 0001</strong>，我们可以知道其反码为：<strong class=" ">1111 1110</strong>，补码（<strong class=" ">可以理解为在反码的基础上加一</strong>）为：<strong class=" ">1111 1111</strong></p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeiuoeeul-acuuS4jeS8muWBmuWKoOazlQ">
        <h1 class="heading "><span>&#35745;&#31639;&#26426;&#19981;&#20250;&#20570;&#21152;&#27861;</span></h1>
<p   
>计算机只认识0和1，它能做的运算归根结底也就是对0和1进行运算，例如2+3、2-3，这种运算计算机是通过位运算去实现的，所以计算机本质上是不会做加法的。所以本章节主要是学习位运算：与、或、异或、非、左移、右移。</p>
<p   
><strong class=" ">与运算</strong>：两个位都为1，结果才为1</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_11-42-47.png" alt="images/download/attachments/8684311/image2021-1-26_11-42-47.png"   />
    </p>
<p   
><strong class=" ">或运算</strong>：只要有一个为1就为1</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_11-43-29.png" alt="images/download/attachments/8684311/image2021-1-26_11-43-29.png"   />
    </p>
<p   
><strong class=" ">异或运算</strong>：不一样时则为1</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_11-44-7.png" alt="images/download/attachments/8684311/image2021-1-26_11-44-7.png"   />
    </p>
<p   
><strong class=" ">非运算</strong>：0就是1、1就是0</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_11-45-20.png" alt="images/download/attachments/8684311/image2021-1-26_11-45-20.png"   />
    </p>
<p   
><strong class=" ">左移</strong>：各二进制位全部左移若干位，高位丢弃，低位补0</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_12-6-23.png" alt="images/download/attachments/8684311/image2021-1-26_12-6-23.png"   />
    </p>
<p   
><strong class=" ">右移</strong>：各二进制位全部右移若干位，低位丢弃，高位补0（shr）或补符号位（sar）</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_12-8-23.png" alt="images/download/attachments/8684311/image2021-1-26_12-8-23.png"   />
    </p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeS9jei_kOeul-WKoOWHj-S5mOmZpA">
        <h1 class="heading "><span>&#20301;&#36816;&#31639;&#21152;&#20943;&#20056;&#38500;</span></h1>
<p   
>计算机通过位运算实现加减乘除，而我们都知道所有算术都是通过加法演变的所有算术都是通过加法演变的，所以我们只需要明白计算机是如何通过加法计算的，其他就都明白了。</p>
<p   
>4+5的运算过程：</p>
<ol class=" "><li class=" "><p   
>转为二进制：0000 0100、0000 0101</p>
</li><li class=" "><p   
>两者进行异或得出：0000 0001</p>
</li><li class=" "><p   
>判断是否存在进位（两者进行与运算）：0000 0100，这里与运算结果不为0（二进制：0000 0000）则表示存在进位</p>
</li><li class=" "><p   
>继续进行异或：<strong class=" ">步骤二的结果</strong>与<strong class=" ">左移一位的步骤三结果 </strong>&rarr;<strong class=" "> 0000 0001 xor 0000 1000</strong>，得出：0000 1001</p>
</li><li class=" "><p   
>步骤四的结果还需要判断是否存在进位（与运算）：<strong class=" ">步骤二的结果与左移一位的步骤三结果</strong> &rarr; <strong class=" ">0000 0001 and 0000 1000</strong>，得出：0000 0000，则表示不存在进位，步骤四的结果则为4+5的最后结果</p>
</li><li class=" "><p   
>二进制：0000 1001转为十进制：9</p>
</li></ol><p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_12-28-21.png" alt="images/download/attachments/8684311/image2021-1-26_12-28-21.png"   />
    </p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeaxh-e8luWtpuS5oOeOr-Wig-aQreW7ug">
        <h1 class="heading "><span>&#27719;&#32534;&#23398;&#20064;&#29615;&#22659;&#25645;&#24314;</span></h1>
<p   
>系统：Windows 7、XP</p>
<p   
>逆向工具：<a   href="attachments_8684357_1_DTDebug.rar">DTDebug.rar</a>、Ollydebug</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_21-28-25.png" alt="images/download/attachments/8684311/image2021-1-26_21-28-25.png"   />
    </p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALemAmueUqOWvhOWtmOWZqA">
        <h1 class="heading "><span>&#36890;&#29992;&#23492;&#23384;&#22120;</span></h1>
<p   
>在了解寄存器之前，我们需要知道计算机在哪存储数据，分别是三个地方：CPU &gt; 内存 &gt; 硬盘，寄存器是指CPU存储数据的地方。如果你是一个32位的CPU，那么它能提供的寄存器则有：8、16、32位的寄存器。</p>
<p   
>在本课程中学习的汇编语言是32位的，虽然现在大部分计算机都是64位的，但从本质上来说64位也是从32位衍生的，只有你学好了32位才能更容易的去学64位。</p>
<p   
>通用寄存器表示其通用性，可以往里面存储任意数据和值。</p>
<p   
>32位的通用寄存器（8个）：EAX、ECX、EDX、EBX、ESP、EBP、ESI、EDI</p>
<p   
>我们可以使用MOV指令取使用通用寄存器：<u class=" "><strong class=" ">mov eax, 1</strong></u>，其表示将eax的值变成1。</p>
<p   
>那么除了32位的通用寄存器外还有8位、16位，我们分别来看一下：</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="33.245%"/>
                                    <col  width="40.5298%"/>
                                    <col  width="26.2252%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="3">
    <p   
>通用寄存器</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>32位</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>16位</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>8位</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EAX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>AX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>AL、AH</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ECX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CL、CH</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EDX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>DX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>DL、DH</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EBX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>BX</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>BL、BH</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ESP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>SP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EBP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>BP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ESI</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>SI</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>EDI</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>DI</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
></p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>从这张表中我们可以总结一下：</p>
<ol class=" "><li class=" "><p   
>（知识）只有EAX、ECX、EDX、EBX有8位寄存器</p>
</li><li class=" "><p   
>（技巧）16位寄存器名称就是去掉了32位寄存器的E、8位就是32位中间的字母加上L和H</p>
</li></ol><p   
>举例：那么AX、AL、AH分别代表着EAX的哪一部分呢？我们使用DTDebug打开一个EXE可执行文件：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_14-27-43.png" alt="images/download/attachments/8684311/image2021-1-26_14-27-43.png"   />
    </p>
<p   
>我们可以很清晰的在右边看见8个32位通用寄存器及其对应的值，这里表示出来是以十六进制形式，所以值一共有八个，一个表示4位，2个表示一个字节。</p>
<p   
>我们要想分清楚AX、AL、AH分别代表着EAX的哪一部分，可以使用MOV指令来看看。</p>
<p   
><u class=" "><strong class=" ">MOV AX, 0x1111</strong></u>：AX占2个字节（4个16进制），AX表示EAX中的2个低位字节（<strong class=" ">或者可以理解</strong>：表示EAX从右到左的2个字节）。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_14-49-24.png" alt="images/download/attachments/8684311/image2021-1-26_14-49-24.png"   />
    </p>
<p   
><u class=" "><strong class=" ">MOV AL, 0x22</strong></u>：AL占1个字节（2个16进制），AL表示AX中的一个低位字节。</p>
<p   
><u class=" "><strong class=" ">MOV AH, 0x33</strong></u>：AH占1个字节（2个16进制），AH表示AX中的一个高位字节。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_15-15-52.png" alt="images/download/attachments/8684311/image2021-1-26_15-15-52.png"   />
    </p>
<p   
>了解了EAX、AX、AL、AH，其他的寄存器以此类推即可。</p>
<p   
><strong class=" ">题外话</strong>：看这个数值，从右到左，偏左的为高位；除特定值以外，汇编不区分大小写。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWGheWtmA">
        <h1 class="heading "><span>&#20869;&#23384;</span></h1>
<p   
>每个应用程序都会有自己的独立4GB内存空间，这里的内存说的就是这4GB而并不是我们所熟悉的内存条。</p>
<p   
>内存和寄存器都是存储数据的，但由于CPU中的寄存器有限（造价比较昂贵），所以我们可以给每一个寄存器取名，但内存不一样，内存太大了无法取名字，所以我们只能使用编号。当我们想向内存中读取数据时，就需要使用到这个编号，这个编号我们称之为内存地址（32位），每一个内存地址（编号）都能存储一个字节（8位）。内存地址是32位的（<strong class=" ">32位表示32个0和 1，但我们一般使用16进制去表示，例如：0x00000000</strong>），程序独立存储的内存空间范围为：0 - 0xFFFFFFFF，能存储的位数就是<strong class=" ">(0xFFFFFFFF+1)*8</strong>，加一是因为0也算一位，乘八是因为每块内存可以存储一个字节（8位），转为十进制就是：<strong class=" ">34359738368 / 8 / 1024 / 1024 / 1024 = 4G</strong>（换算：1Byte = 8Bit, 1KB = 1024Byte, 1MB = 1024KB, 1GB = 1024MB），这也就是<strong class=" ">「每个应用程序都会有自己的独立4GB内存空间」</strong>的原因。</p>
<p   
>之前我们学习过了MOV指令，那这个指令也可以向内存中添加数据或从内存中获取数据：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">MOV DOWRD PTR DS:[内存地址], 立即数</code></div>
<div class="line"><code class="plain">MOV DOWRD PTR DS:[内存地址], 32位通用寄存器</code></div>
<div class="line"><code class="plain">MOV 32位通用寄存器, DOWRD PTR DS:[内存地址]</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_17-31-56.png" alt="images/download/attachments/8684311/image2021-1-26_17-31-56.png"   />
    </p>
<p   
>需要注意的是如上所述指令中DOWRD为数据宽度，存储的数据需要与DOWRD数据宽度一致，当然这里也可以为BYTE、WORD，例如：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">MOV WORD PTR DS:[内存地址], 立即数</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWGheWtmOWcsOWdgOeahDXnp43lvaLlvI8">
        <h1 class="heading "><span>&#20869;&#23384;&#22320;&#22336;&#30340;5&#31181;&#24418;&#24335;</span></h1>
<p   
>内存地址表示有很多种形式：</p>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW9ouW8j-S4gO-8mueri-WNs-aVsA">
        <h2 class="heading "><span>&#24418;&#24335;&#19968;&#65306;&#31435;&#21363;&#25968;</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// 读取内存的值</code></div>
<div class="line"><code class="plain">mov eax, dword ptr ds:[</code><code class="value">0x13FFC4</code><code class="plain">]</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// 向内存中写入数据</code></div>
<div class="line"><code class="plain">mov dword ptr ds:[</code><code class="value">0X13FFC4</code><code class="plain">], eax</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW9ouW8j-S6jO-8mlvlr4TlrZjlmahd">
        <h2 class="heading "><span>&#24418;&#24335;&#20108;&#65306;[&#23492;&#23384;&#22120;]</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// 读取内存的值</code></div>
<div class="line"><code class="plain">move ecx, </code><code class="value">0x13FFD0</code></div>
<div class="line"><code class="plain">mov eax, dword ptr ds:[ecx]</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// 向内存中写入数据</code></div>
<div class="line"><code class="plain">mov edx, </code><code class="value">0x13FFD8</code></div>
<div class="line"><code class="plain">mov dword ptr ds:[edx], </code><code class="value">0x87654321</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW9ouW8j-S4ie-8mlvlr4TlrZjlmagg56uL5Y2z5pWwXQ">
        <h2 class="heading "><span>&#24418;&#24335;&#19977;&#65306;[&#23492;&#23384;&#22120;+&#31435;&#21363;&#25968;]</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// 读取内存的值</code></div>
<div class="line"><code class="plain">mov ecx, </code><code class="value">0x13FFD0</code></div>
<div class="line"><code class="plain">mov eax, dword ptr ds:[ecx+</code><code class="value">4</code><code class="plain">]</code></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><code class="comments">// 向内存中写入数据</code></div>
<div class="line"><code class="plain">mov edx, </code><code class="value">0x13FFD8</code></div>
<div class="line"><code class="plain">mov dword ptr ds:[edx+</code><code class="value">0xC</code><code class="plain">], </code><code class="value">0x87654321</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW9ouW8j-Wbm--8mlvlr4TlrZjlmagg5a-E5a2Y5ZmoKnsxLDIsNCw4fV0">
        <h2 class="heading "><span>&#24418;&#24335;&#22235;&#65306;[&#23492;&#23384;&#22120;+&#23492;&#23384;&#22120;*{1,2,4,8}]</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// 读取内存的值</code></div>
<div class="line"><code class="plain">mov eax, </code><code class="value">0x13FFC4</code></div>
<div class="line"><code class="plain">mov ecx, </code><code class="value">0x2</code></div>
<div class="line"><code class="plain">mov edx, dword ptr ds:[eax+eax*</code><code class="value">4</code><code class="plain">]</code></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><code class="comments">// 向内存中写入数据</code></div>
<div class="line"><code class="plain">mov eax, </code><code class="value">0x13FFC4</code></div>
<div class="line"><code class="plain">mov ecx, </code><code class="value">0x2</code></div>
<div class="line"><code class="plain">mov dword ptr ds:[eax+eax*</code><code class="value">4</code><code class="plain">], </code><code class="value">0x87654321</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW9ouW8j-S6lO-8mlvlr4TlrZjlmagg5a-E5a2Y5ZmoKnsxLDIsNCw4fSDnq4vljbPmlbBd">
        <h2 class="heading "><span>&#24418;&#24335;&#20116;&#65306;[&#23492;&#23384;&#22120;+&#23492;&#23384;&#22120;*{1,2,4,8}+&#31435;&#21363;&#25968;]</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// 读取内存的值</code></div>
<div class="line"><code class="plain">mov eax, </code><code class="value">0x13FFC4</code><code class="plain"> mov ecx, </code><code class="value">0x2</code></div>
<div class="line"><code class="plain">mov edx, dword ptr ds:[eax+eax*</code><code class="value">4</code><code class="plain">+</code><code class="value">4</code><code class="plain">]</code></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><code class="comments">// 向内存中写入数据</code></div>
<div class="line"><code class="plain">mov eax, </code><code class="value">0x13FFC4</code></div>
<div class="line"><code class="plain">mov ecx, </code><code class="value">0x2</code></div>
<div class="line"><code class="plain">mov dword ptr ds:[eax+eax*</code><code class="value">4</code><code class="plain">+</code><code class="value">4</code><code class="plain">], </code><code class="value">0x87654321</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWtmOWCqOaooeW8j--8iOWkp-OAgeWwj-err--8iQ">
        <h1 class="heading "><span>&#23384;&#20648;&#27169;&#24335;&#65288;&#22823;&#12289;&#23567;&#31471;&#65289;</span></h1>
<p   
>要在计算机中存储数据，需要遵循其的存储模式，存储模式分为两种：大、小端。</p>
<p   
><strong class=" ">大端模式</strong>：数据高位在低位地址中，数据低位在高位地址中；</p>
<p   
><strong class=" ">小端模式</strong>：数据低位在低位地址中，数据高位在高位地址中。</p>
<p   
>如下图中所示，内存地址从小到大；我们知道每一个内存地址可以存储8位，也就是一个字节，当我们使用MOV指令写入数据到内存中时指定宽度为BYTE存储数据会存储在一个内存地址中，而当我们指定数据宽度为WORD、DWORD呢？</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_17-48-18.png" alt="images/download/attachments/8684311/image2021-1-26_17-48-18.png"   />
    </p>
<p   
>汇编指令：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">mov word ptr ds:[</code><code class="value">0x00000000</code><code class="plain">], </code><code class="value">0x1A2B</code></div>
</div>
    </div>
<p   
>这里存储的是2个字节的数据，那么按照大端模式去存储，<strong class=" ">0x1A2B</strong>数据高位就是1A，低位就是2B，内存地址中从小到大，小的则是低位，高的则是高位，所以内存地址0x00000000存储1A，0x00000001存储2B；小端模式则内存地址0x00000000存储2B，0x00000001存储1A。</p>
<p   
>我们可以尝试使用汇编指令写入数据到内存中：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">mov word ptr ds:[</code><code class="value">0x0012ffc4</code><code class="plain">], </code><code class="value">0x1A2B</code></div>
</div>
    </div>
<p   
>在DTDebug中我们可以在内存窗口使用<u class=" "><strong class=" ">db/dw/dd 内存地址</strong></u>的格式（byte、word、dword）来查看内存，在这使用<u class=" "><strong class=" ">db 0012ffc4</strong></u>才可以清晰的看出数据存储位置<strong class=" ">：</strong></p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_19-3-44.png" alt="images/download/attachments/8684311/image2021-1-26_19-3-44.png"   />
    </p>
<p   
>在这里我们可以看见2B存储在了内存地址<strong class=" ">0012ffc4</strong>，1A存储在了内存地址<strong class=" ">0012ffc5</strong>。（在这里内存地址是依次是从左到右的）</p>
<p   
>也就表示我们的数据存储模式是小端模式，而一般来说在80x86处理器上，绝大部分的应用数据存储都是采用小端模式，在ARM上则是大端模式。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeW4uOeUqOaxh-e8luaMh-S7pA">
        <h1 class="heading "><span>&#24120;&#29992;&#27719;&#32534;&#25351;&#20196;</span></h1>
<p   
>我们常用的汇编指令有：MOV、ADD、SUB、AND、OR、XOR、NOT</p>
<p   
>如下格式举例中表示含义：</p>
    <div  class="confbox admonition admonition-info">
                    <p class="title">&#21547;&#20041;</p>
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>r 代表通用寄存器</p>
<p   
>m 代表内存</p>
<p   
>imm 代表立即数</p>
<p   
>r8 代表8位通用寄存器</p>
<p   
>m8 代表8位内存</p>
<p   
>imm8 代表8位立即数</p>
<p   
>其他以此类推</p>
        </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALU1PVuaMh-S7pA">
        <h2 class="heading "><span>MOV&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据传送</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// MOV 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数传送到目标操作数</code></div>
<div class="line"><code class="plain">MOV r/m8,r8</code></div>
<div class="line"><code class="plain">MOV r/m16,r16</code></div>
<div class="line"><code class="plain">MOV r/m32,r32</code></div>
<div class="line"><code class="plain">MOV r8,r/m</code></div>
<div class="line"><code class="plain">MOV r16,r/m16</code></div>
<div class="line"><code class="plain">MOV r32,r/m32</code></div>
<div class="line"><code class="plain">MOV r8, imm8</code></div>
<div class="line"><code class="plain">MOV r16, imm16</code></div>
<div class="line"><code class="plain">MOV r32, imm32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUFEROaMh-S7pA">
        <h2 class="heading "><span>ADD&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据相加</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// ADD 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数与目标操作数相加，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">ADD r/m8, imm8</code></div>
<div class="line"><code class="plain">ADD r/m16,imm16</code></div>
<div class="line"><code class="plain">ADD r/m32,imm32</code></div>
<div class="line"><code class="plain">ADD r/m16, imm8</code></div>
<div class="line"><code class="plain">ADD r/m32, imm8</code></div>
<div class="line"><code class="plain">ADD r/m8, r8</code></div>
<div class="line"><code class="plain">ADD r/m16, r16</code></div>
<div class="line"><code class="plain">ADD r/m32, r32</code></div>
<div class="line"><code class="plain">ADD r8, r/m8</code></div>
<div class="line"><code class="plain">ADD r16, r/m16</code></div>
<div class="line"><code class="plain">ADD r32, r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVNVQuaMh-S7pA">
        <h2 class="heading "><span>SUB&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据相减</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// SUB 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数与目标操作数相减，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">SUB r/m8, imm8</code></div>
<div class="line"><code class="plain">SUB r/m16,imm16</code></div>
<div class="line"><code class="plain">SUB r/m32,imm32</code></div>
<div class="line"><code class="plain">SUB r/m16, imm8</code></div>
<div class="line"><code class="plain">SUB r/m32, imm8</code></div>
<div class="line"><code class="plain">SUB r/m8, r8</code></div>
<div class="line"><code class="plain">SUB r/m16, r16</code></div>
<div class="line"><code class="plain">SUB r/m32, r32</code></div>
<div class="line"><code class="plain">SUB r8, r/m8</code></div>
<div class="line"><code class="plain">SUB r16, r/m16</code></div>
<div class="line"><code class="plain">SUB r32, r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUFOROaMh-S7pA">
        <h2 class="heading "><span>AND&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据相与（位运算知识）</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// AND 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数与目标操作数进行与运算，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">AND r/m8, imm8</code></div>
<div class="line"><code class="plain">AND r/m16,imm16</code></div>
<div class="line"><code class="plain">AND r/m32,imm32</code></div>
<div class="line"><code class="plain">AND r/m16, imm8</code></div>
<div class="line"><code class="plain">AND r/m32, imm8</code></div>
<div class="line"><code class="plain">AND r/m8, r8</code></div>
<div class="line"><code class="plain">AND r/m16, r16</code></div>
<div class="line"><code class="plain">AND r/m32, r32</code></div>
<div class="line"><code class="plain">AND r8, r/m8</code></div>
<div class="line"><code class="plain">AND r16, r/m16</code></div>
<div class="line"><code class="plain">AND r32, r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALU9S5oyH5Luk">
        <h2 class="heading "><span>OR&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据相或（位运算知识）</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// AND 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数与目标操作数进行或运算，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">OR r/m8, imm8</code></div>
<div class="line"><code class="plain">OR r/m16,imm16</code></div>
<div class="line"><code class="plain">OR r/m32,imm32</code></div>
<div class="line"><code class="plain">OR r/m16, imm8</code></div>
<div class="line"><code class="plain">OR r/m32, imm8</code></div>
<div class="line"><code class="plain">OR r/m8, r8</code></div>
<div class="line"><code class="plain">OR r/m16, r16</code></div>
<div class="line"><code class="plain">OR r/m32, r32</code></div>
<div class="line"><code class="plain">OR r8, r/m8</code></div>
<div class="line"><code class="plain">OR r16, r/m16</code></div>
<div class="line"><code class="plain">OR r32, r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVhPUuaMh-S7pA">
        <h2 class="heading "><span>XOR&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据相异或（位运算知识）</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// XOR 目标操作数，源操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数与目标操作数进行异或运算，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">XOR r/m8, imm8</code></div>
<div class="line"><code class="plain">XOR r/m16,imm16</code></div>
<div class="line"><code class="plain">XOR r/m32,imm32</code></div>
<div class="line"><code class="plain">XOR r/m16, imm8</code></div>
<div class="line"><code class="plain">XOR r/m32, imm8</code></div>
<div class="line"><code class="plain">XOR r/m8, r8</code></div>
<div class="line"><code class="plain">XOR r/m16, r16</code></div>
<div class="line"><code class="plain">XOR r/m32, r32</code></div>
<div class="line"><code class="plain">XOR r8, r/m8</code></div>
<div class="line"><code class="plain">XOR r16, r/m16</code></div>
<div class="line"><code class="plain">XOR r32, r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALU5PVOaMh-S7pA">
        <h2 class="heading "><span>NOT&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">非（位运算知识）</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// NOT 目标操作数</code></div>
<div class="line"><code class="comments">// 含义：将源操作数进行非运算，最后结果给到目标操作数</code></div>
<div class="line"><code class="plain">NOT r/m8</code></div>
<div class="line"><code class="plain">NOT r/m16</code></div>
<div class="line"><code class="plain">NOT r/m32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALU1PVlPmjIfku6Q">
        <h2 class="heading "><span>MOVS&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">数据传送</strong>，它与MOV的不同处在于，它可以将内存的数据传送到内存，但也仅仅能如此，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// MOVS EDI指定的内存地址，ESI指定的内存地址</code></div>
<div class="line"><code class="comments">// 含义：将ESI指定的内存地址的数据传送到EDI指定的内存地址（使用MOVS指令时，默认使用的就是ESI和EDI寄存器），MOVS指令执行完成后ESI、EDI寄存器的值会自增或自减，自增或自减多少取决于传送数据的数据宽度</code></div>
<div class="line"><code class="plain">MOVS BYTE PTR ES:[EDI], BYTE PTR DS:[ESI] </code><code class="comments">//简写为：MOVSB</code></div>
<div class="line"><code class="plain">MOVS WORD PTR ES:[EDI], WORD PTR DS:[ESI] </code><code class="comments">//简写为：MOVSW</code></div>
<div class="line"><code class="plain">MOVS DWORD PTR ES:[EDI], DWORD PTR DS:[ESI] </code><code class="comments">//简写为：MOVSD</code></div>
</div>
    </div>
<p   
><strong class=" ">MOVS指令举例说明</strong>：</p>
<p   
>1. 先将ESI、EDI的值修改为对应内存地址</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">MOV ESI, </code><code class="value">0x12FFC4</code></div>
<div class="line"><code class="plain">MOV EDI, </code><code class="value">0x12FFD0</code></div>
</div>
    </div>
<p   
>2. 将0x11223344存入EDI指定的内存地址中</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">MOV DWORD PTR DS:[ESI], </code><code class="value">0x11223344</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_20-29-18.png" alt="images/download/attachments/8684311/image2021-1-26_20-29-18.png"   />
    </p>
<p   
>3. 使用简写方式指令：MOVSD，将ESI指定的内存地址的值（4字节数据）存入EDI指定的内存地址中</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">MOVS DWORD PTR ES:[EDI], DWORD PTR DS:[ESI]</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_20-32-34.png" alt="images/download/attachments/8684311/image2021-1-26_20-32-34.png"   />
    </p>
<p   
>4. 结论：可以看到当MOVS指令执行结束后，ESI、EDI的值自增了4，「自增多少取决于传送数据的数据宽度」，所以这里是DOWRD表示4字节，也就自增了4。</p>
<p   
>5. <strong class=" ">注意</strong>：如果DF位为0，MOVS指令执行结束后，ESI、EDI的值<strong class=" ">自增</strong>；如果DF位为1，MOVS指令执行结束后，ESI、EDI的值<strong class=" ">自减</strong>。（此块涉及<strong class=" ">标志寄存器：EFL</strong>，可以向下翻阅相关知识）</p>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVNUT1PmjIfku6Q">
        <h2 class="heading "><span>STOS&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">将AL/AX/EAX的值储存到EDI指定的内存地址</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// STOS EDI指定的内存地址</code></div>
<div class="line"><code class="comments">// 含义：将AL/AX/EAX的值储存到EDI指定的内存地址，STOS指令执行完成后EDI寄存器的值会自增或自减，自增或自减多少取决于传送数据的数据宽度，与MOVS指令一样自增或自减取决于DF位</code></div>
<div class="line"><code class="plain">STOS BYTE PTR ES:[EDI] </code><code class="comments">//简写为：STOSB</code></div>
<div class="line"><code class="plain">STOS WORD PTR ES:[EDI] </code><code class="comments">//简写为：STOSW</code></div>
<div class="line"><code class="plain">STOS DWORD PTR ES:[EDI] </code><code class="comments">//简写为：STOSD</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVJFUOaMh-S7pA">
        <h2 class="heading "><span>REP&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">循环</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// REP MOVS指令/STOS指令</code></div>
<div class="line"><code class="comments">// 含义：循环执行MOVS指令或STOS指令，循环次数取决于ECX寄存器中的值，每执行一次，ECX寄存器中的值就会减一，直至为零，REP指令执行完成</code></div>
<div class="line"><code class="plain">REP MOVSB</code></div>
<div class="line"><code class="plain">REP MOVSW</code></div>
<div class="line"><code class="plain">REP MOVSD</code></div>
<div class="line"><code class="plain">REP STOSB</code></div>
<div class="line"><code class="plain">REP STOSW</code></div>
<div class="line"><code class="plain">REP STOSD</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWghuagiOebuOWFs-aMh-S7pA">
        <h2 class="heading "><span>&#22534;&#26632;&#30456;&#20851;&#25351;&#20196;</span></h2>
<p   
>在学习堆栈相关指令之前，我们需要知道什么是堆栈，实际上我们之前就提到过这个东西，堆栈就是前面我们提到的程序的独立4GB内存空间，与数据结构的堆栈无关。</p>
<p   
>有心人会在<strong class=" ">「汇编学习环境搭建」</strong>章节看见DTDebug的图，堆栈的位置在软件的右下方。</p>
<p   
>要想知道堆栈可以使用的地址范围，我们可以查看DTDebug的寄存器窗口，找到如下图红框部分：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_21-36-49.png" alt="images/download/attachments/8684311/image2021-1-26_21-36-49.png"   />
    </p>
<p   
>然后再到DTDebug的内存窗口，输入<u class=" "><strong class=" ">dd 7FFDF000</strong></u>，回车即可看到堆栈的地址范围了：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_21-38-51.png" alt="images/download/attachments/8684311/image2021-1-26_21-38-51.png"   />
    </p>
<p   
>栈顶：0x00130000，栈底：0x0012D000，也就是说我们可以从0x0012D000用到0x00130000。</p>
<p   
>聊到堆栈，我们又不得不提一下之前所学到的通用寄存器：ESP、EBP，其分别表示栈顶指针（表示当前正在使用的堆栈地址）、栈底指针（表示当前使用的堆栈的第一个地址），当前使用的堆栈地址范围就可以是<strong class=" ">ESP - EBP</strong>。</p>
<p   
>堆栈的地址使用是从<strong class=" ">大用到小的（高位地址到低位地址）</strong>，这个我们也可以从DTDebug的堆栈窗口中得出：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_21-51-16.png" alt="images/download/attachments/8684311/image2021-1-26_21-51-16.png"   />
    </p>
<p   
>堆栈讲究<strong class=" ">先入后出</strong>的概念，也就是当我们先放A数据到堆栈中，再放B数据到堆栈中，当我们不使用这些数据时候就要&ldquo;清理&rdquo;，那么数据B就是先处理的，数据A就是后处理的。</p>
<p   
>我们想要往堆栈中压入数据就需要使用一个当前没有使用的堆栈地址避免覆盖了其他数据，也就是我们先存入数据，然后告诉堆栈当前用到了哪（提升栈顶指针ESP），在之前的章节中我们学习了使用MOV指令向内存中存储数据，在这里就可以借助MOV指令去压入数据：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">mov dword ptr ds:[esp-</code><code class="value">4</code><code class="plain">],</code><code class="value">0x11223344</code></div>
<div class="line"><code class="plain">sub esp, </code><code class="value">0x4</code><code class="plain"> </code><code class="comments">// 由于堆栈地址使用是从大到小的，所以使用sub指令提升esp栈顶指针（4表示我们之前存储的数据宽度为4字节，所以栈顶指针ESP需要提升4）</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_22-20-12.png" alt="images/download/attachments/8684311/image2021-1-26_22-20-12.png"   />
    </p>
<p   
>而当我们不需要使用这个数据的时候，就要释放，同样我们使用汇编指令就可以完成：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">add esp, </code><code class="value">0x4</code><code class="plain"> </code><code class="comments">// 直接下降栈顶指针ESP</code></div>
</div>
    </div>
<p   
>但是有一个问题，当我们把EAX的值压入堆栈中，然后再想把EAX的值放回去使用这种方法完全不行，我们还需要一个MOV指令将值放回去，这样很繁琐，所以我们可以使用堆栈指令：P USH（压入）和POP（释放）。</p>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVBVU0jmjIfku6Q">
        <h2 class="heading "><span>PUSH&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">压入数据</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// PUSH 通用寄存器/内存地址/立即数</code></div>
<div class="line"><code class="comments">// 含义：向堆栈中压入数据，压入数据后会提升（sub）栈顶指针（ESP），提升多少取决于压入数据的数据宽度</code></div>
<div class="line"><code class="plain">PUSH r16/r32</code></div>
<div class="line"><code class="plain">PUSH m16/m32</code></div>
<div class="line"><code class="plain">PUSH imm8/imm16/imm32</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVBPUOaMh-S7pA">
        <h2 class="heading "><span>POP&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">释放数据</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// POP 通用寄存器/内存地址</code></div>
<div class="line"><code class="comments">// 含义：释放压入堆栈中的数据，释放数据后会下降（add）栈顶指针（ESP），下降多少取决于释放数据的数据宽度</code></div>
<div class="line"><code class="plain">POP r16/r32</code></div>
<div class="line"><code class="plain">POP m16/m32</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeS_ruaUuUVJUOeahOaMh-S7pA">
        <h1 class="heading "><span>&#20462;&#25913;EIP&#30340;&#25351;&#20196;</span></h1>
<p   
>EIP也是寄存器，但它<strong class=" ">不叫通用寄存器</strong>，它里面存放的值是CPU下次要执行的指令地址；当我们想去修改它的值就不能使用修改通用寄存器那些指令了，修改EIP有其特有的指令，接下来让我们来了解一下吧。</p>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUpNUOaMh-S7pA">
        <h2 class="heading "><span>JMP&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">跳转</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// JMP 寄存器/内存/立即数</code></div>
<div class="line"><code class="comments">// 含义：JMP指令会修改EIP的值为指定的指令地址，也就修改了程序下一次执行的指令地址，我们也可以称之为跳转到某条指令地址。</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUNBTEzmjIfku6Q">
        <h2 class="heading "><span>CALL&#25351;&#20196;</span></h2>
<p   
><strong class=" ">也可以修改EIP，跟JMP指令的功能是一样的</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// CALL 寄存器/内存/立即数</code></div>
<div class="line"><code class="comments">// 含义：跟JMP指令的功能是一样的，同样也可以修改EIP的值，不同的点说，CALL指令执行后会将其下一条指令地址压入堆栈，ESP栈顶指针的值减4</code></div>
<div class="line"><code class="comments">// 注意：在我们使用DTDebug调试的时候，要跟进CALL指令不能使用F8要是用F7，这里涉及调试器相关的知识，暂时不深入了解</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALVJFVOaMh-S7pA">
        <h2 class="heading "><span>RET&#25351;&#20196;</span></h2>
<p   
>表示<strong class=" ">返回</strong>，其格式为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">RET</code></div>
<div class="line"><code class="comments">// 含义：将当前栈顶指针的值赋给EIP，然后让栈顶指针加4&lt;/p&gt;</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeaxh-e8luecvOS4reeahOWHveaVsA">
        <h1 class="heading "><span>&#27719;&#32534;&#30524;&#20013;&#30340;&#20989;&#25968;</span></h1>
<p   
>什么是函数？函数就是一系列指令的集合，为了完成某个会重复使用的特定功能。</p>
<p   
>那么在汇编中如何定义、使用函数呢？既然我们知道函数就是一系列指令的集合，那么只要我们随便写一段汇编代码即可：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">mov eax, </code><code class="value">0x1</code></div>
</div>
    </div>
<p   
>我们将其写在了执行地址<u class=" "><strong class=" ">0x00460A32</strong></u>中，想要调用这个函数，需要使用JMP、CALL指令来调用。</p>
<p   
>但是我们一般不会使用JMP来调用函数，<strong class=" ">因为它执行完后没办法返回到原来要执行的地址</strong>，所以我们选择CALL指令，CALL指令<strong class=" ">需要搭配RET指令</strong>一起使用。</p>
<p   
>一般我们在函数指令集合的最后写入RET指令，以此来实现函数执行完后返回<strong class=" ">原来要执行的地址继续执行</strong>。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-26_23-51-51.png" alt="images/download/attachments/8684311/image2021-1-26_23-51-51.png"   />
    </p>
<p   
>那假设我们需要做一个任意两个数的加法函数该怎么办？这时候就需要想办法将我们的任意两个数传入函数中，这也就是<strong class=" ">参数</strong>；加法函数计算结果就称之为<strong class=" ">返回值</strong>。</p>
<p   
>返回值在汇编中一般使用EAX存储，我们可以使用ECX、EDX作为传递参数，接下来我们编写加法函数：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">add eax,ecx</code></div>
<div class="line"><code class="plain">add eax,edx</code></div>
<div class="line"><code class="plain">ret</code></div>
</div>
    </div>
<p   
>实际场景：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-2-48.png" alt="images/download/attachments/8684311/image2021-1-27_0-2-48.png"   />
    </p>
<p   
>在这里我们使用的是寄存器传递参数，但实际上还可以使用堆栈传参数，下一章节我们会介绍。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWghuagiOS8oOWPgg">
        <h1 class="heading "><span>&#22534;&#26632;&#20256;&#21442;</span></h1>
<p   
>当函数有很多参数的时候，不止8个，那我们使用通用寄存器去传参，明显不够用，所以我们需要使用堆栈帮助我们传递参数。</p>
<p   
>还是以加法举例，实际场景：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-18-42.png" alt="images/download/attachments/8684311/image2021-1-27_0-18-42.png"   />
    </p>
<p   
>如上图所示实现算术<strong class=" ">1+2</strong>，首先将1、2依次压入堆栈，CALL指令也会将其下一行指令地址压入堆栈，所以堆栈地址<strong class=" ">[ESP+8]</strong>为第一个压入的数据，堆栈地址<strong class=" ">[ESP+4]</strong>为第二个压入的数据。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWghuagiOW5s-ihoQ">
        <h1 class="heading "><span>&#22534;&#26632;&#24179;&#34913;</span></h1>
<p   
>我们知道当执行函数调用CALL指令的时候，会把CALL指令下一条指令的内存地址压入堆栈（ESP值减4）；在函数内我们可以随意使用堆栈，比如PUSH指令压入堆栈，使用堆栈传参等等...</p>
<p   
>我们需要保证，在函数调用结束的时候（<strong class=" ">即执行RET指令之前，要把ESP栈顶指针的值修改为执行CALL指令压入堆栈或堆栈传参压入堆栈前的那个ESP栈顶指针的值</strong>），保证函数运行前与运行后<strong class=" ">ESP栈顶指针的值</strong>不变，这个我们称之为<strong class=" ">堆栈平衡</strong>。</p>
<p   
>第一种情况导致堆栈不平衡（函数内压栈）：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-30-28.png" alt="images/download/attachments/8684311/image2021-1-27_0-30-28.png"   />
    </p>
<p   
>函数内压栈会导致执行RET指令后，ESP-4，程序会到00000002这个执行地址继续执行，而不再是CALL指令下一行地址继续执行。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-32-57.png" alt="images/download/attachments/8684311/image2021-1-27_0-32-57.png"   />
    </p>
<p   
>第二种情况导致堆栈不平衡（堆栈传参）：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-18-42.png" alt="images/download/attachments/8684311/image2021-1-27_0-18-42.png"   />
    </p>
<p   
>当RET指令之后，栈顶指针无法回到传参前的值。</p>
<p   
>平衡堆栈有两个方法：</p>
<p   
>1.外平栈：使用ADD指令。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-51-7.png" alt="images/download/attachments/8684311/image2021-1-27_0-51-7.png"   />
    </p>
<p   
>2.内平栈：使用RET指令，例如压入了2个32位（4字节）数据就可以写为RET 8。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_0-52-6.png" alt="images/download/attachments/8684311/image2021-1-27_0-52-6.png"   />
    </p>
<p   
>对于第一种情况我们可以在函数内使用完堆栈后，POP释放数据；对于第二种堆栈传参导致的堆栈不平衡，我们可以使用外平栈、内平栈的方法。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUVTUOWvu-WdgA">
        <h1 class="heading "><span>ESP&#23547;&#22336;</span></h1>
<p   
>之前我们了解了函数，以及堆栈传参，那其实我们获取参数就是借助的ESP去获取对应参数的地址，这种行为我们称之为ESP寻址。</p>
<p   
>需要注意的是我们获取参数的值，指令应为：</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">mov eax, dword ptr ss:[esp+</code><code class="value">4</code><code class="plain">]</code></div>
</div>
    </div>
<p   
>你会发现原来指令中的ds变为了ss，这是因为当你的内存地址是esp或ebp组成的需要使用ss，暂时先不用管原因。</p>
<p   
>ESP寻址弊端：当函数比较复杂时，使用的时候要使用很多寄存器，需要把寄存器的值保存在堆栈中备份，寻址计算会复杂一些。</p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUVCUOWvu-WdgA">
        <h1 class="heading "><span>EBP&#23547;&#22336;</span></h1>
<p   
>之前都是借用ESP去寻址确定一些参数 ，但如果存到堆栈里面的值过多，那么就得不断地调整ESP的指向，这是ESP寻址的缺点。</p>
<p   
>那么EBP寻址的思路是什么呢？先把EBP的值保存起来 然后然后EBP指向ESP的位置，然后在原来的堆栈基础上ESP上移，重新变成一块新的堆栈；之后新的程序再使用堆栈的时候，只影响ESP但不会影响EBP，那我们寻址的时候使用EBP去寻址，EBP的位置相对固定，程序不管如何操作ESP都会不停浮动，但是EBP相对稳定。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_1-3-32.png" alt="images/download/attachments/8684311/image2021-1-27_1-3-32.png"   />
    </p>
    </div>
    <div class="section section-1" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeagh-W_l-WvhOWtmOWZqA">
        <h1 class="heading "><span>&#26631;&#24535;&#23492;&#23384;&#22120;</span></h1>
<p   
>在DTDebug中标志寄存器就是这一部分：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_1-7-44.png" alt="images/download/attachments/8684311/image2021-1-27_1-7-44.png"   />
    </p>
<p   
>16位标志寄存器是：FLAGS</p>
<ol class=" "><li class=" "><p   
>条件标志位：SF、ZF、OF、CF、AF、PF</p>
<p   
>CPU在执行完一条指令之后进行自动设置，反映了算数、逻辑运算等指令执行完毕之后，运算结果的特征。</p>
</li><li class=" "><p   
>控制标志位：DF、IF、TF</p>
<p   
>控制CPU的运行方式和工作状态。</p>
</li></ol>    <blockquote>
<p   
>条件标志位</p>
        </blockquote>
<ol class=" "><li class=" "><p   
>进位标志：【CF】&mdash;运算结果的最高有效位有进位（加法）或者借位（减法）。用于表示两个无符号数高低。</p>
</li><li class=" "><p   
>零标志：【ZF】&mdash;如果运算结果位0，则ZF=1，否则ZF=0</p>
</li><li class=" "><p   
>溢出标志位：【OF】&mdash;当将操作数作为有符号数的时候，使用该标志位判断运算结果是否溢出。加法：若相同符号数相加，结果的符号与之相反则OF=1，否则OF=0。</p>
<p   
>减法：若被减数与减数符号不相同，而结果的符号与减数相同则OF=1，否则OF=0发生溢出，说明运算的结果已经不可信</p>
</li><li class=" "><p   
>标志符号：【SF】&mdash;运算结果最高位为1，SF=1，否则SF=0。有符号数用最高有效位表示数据的符号，最高有效位是标志符号的状态。</p>
</li><li class=" "><p   
>奇偶标志位：【PF】&mdash;当运算结果（指的是低8位）中1的个数为偶数时，PF=1，否则PF=0。该标志位主要用于检测数据在传输过程中是否出错</p>
</li><li class=" "><p   
>辅助进位标志位：【AF】&mdash;一个字节运算的时候低4位向高4位的进位和错位。</p>
</li></ol>    <div  class="confbox admonition admonition-info">
                    <p class="title">&#27880;&#24847;</p>
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>1. 进位针对的是无符号数运算，溢出针对的是有符号数运算</p>
<p   
>2. 进位了，可以根据CF标志位得到正确的结果，溢出了，结果已经不正确了。</p>
<p   
>3. 汇编中的数据类型由程序员决定，也就是没有类型，程序员说是什么类型就是什么类型。所以当看到无符号数，则关注CF标志，看成有符号数，关注OF标志。</p>
        </div>
    </div>
<p   
>如下汇编代码：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_16-10-47.png" alt="images/download/attachments/8684311/image2021-1-27_16-10-47.png"   />
    </p>
<p   
>我们往下走两步完成赋值</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_15-59-35.png" alt="images/download/attachments/8684311/image2021-1-27_15-59-35.png"   />
    </p>
<p   
>现在去跑ADD指令：</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_16-0-50.png" alt="images/download/attachments/8684311/image2021-1-27_16-0-50.png"   />
    </p>
<p   
>因为此处ADD指令是进行了运算结果不是0，固ZF位=0，<strong class=" ">在汇编中没有像C语言这样高级语言中有if语句、while语句</strong>，那它是怎么实现这些功能呢？</p>
<ol class=" "><li class=" "><p   
>标志寄存器</p>
</li><li class=" "><p   
>JCC指令</p>
</li></ol>    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALeWmguS9leaTjeS9nOagh-W_l-WvhOWtmOWZqA">
        <h2 class="heading "><span>&#22914;&#20309;&#25805;&#20316;&#26631;&#24535;&#23492;&#23384;&#22120;</span></h2>
<p   
>LAHF（Load AH with flags）指令：用于将标志寄存器的低八位送入AH，即将<strong class=" ">标志寄存器FLAGS</strong>中的<strong class=" ">SF、ZF、AF、PF、CF</strong>五个标志位分别传送到AH的对应位（八位中有三位是无效的）</p>
<p   
>SAHF（store AH into flags）指令：用于将AH寄存器送入标志寄存器</p>
<p   
>PUSHF（push the flags）指令：用于将标志寄存器送入栈 &rarr; push eflags</p>
<p   
>POPF（pop the flags）指令：用于将标志寄存器送出栈 &rarr; pop eflags</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/Untitled.png" alt="images/download/attachments/8684311/Untitled.png"   />
    </p>
<p   
>我们来做一个实验，首先将EAX置为0，然后CF、PF位为1，这时候我们调用LAHF将标志寄存器送入AH会得到怎样的数据呢？</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_16-5-4.png" alt="images/download/attachments/8684311/image2021-1-27_16-5-4.png"   />
    </p>
<p   
>这时候我们F8运行这一条指令，我们就会发现AH=0x700，这里我们来算一下</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_16-5-45.png" alt="images/download/attachments/8684311/image2021-1-27_16-5-45.png"   />
    </p>
<p   
>那么转换过来就是011100000000 &rarr; 0x700，CF和PF位之间的下标为1的空，默认为1。</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/8684311/image2021-1-27_16-6-28.png" alt="images/download/attachments/8684311/image2021-1-27_16-6-28.png"   />
    </p>
    </div>
    <div class="section section-2" id="src-8684311_safe-id-aWQt5rGH57yW6K-t6KiALUpDQw">
        <h2 class="heading "><span>JCC</span></h2>
<p   
><a   href="attachments_8684404_1_009_JCC.xls">JCC指令</a>与标志寄存器是挂钩的，有太多了，不需要去背诵。</p>
<p   
></p>
<p   
></p>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="%E5%88%9D%E7%BA%A7%E7%AF%87.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>&#21021;&#32423;&#31687;</span>
        </a>
                <a href="C%E8%AF%AD%E8%A8%80.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>C&#35821;&#35328;</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
